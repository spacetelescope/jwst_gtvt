usage = """

Database utility scripts.

Usage:
  jwst_gtvt <ra> <dec> [--instrument=<inst>] [--target_name=<name>] [--write_ephemeris=<write_path>] [--write_plot=<plot_path>] [--silent]

Arguments:
  <ra>    Right ascension of target to observe with JWST.
  <dec>   Declination of target to observe with JWST.

Options:
  [--instrument]         JWST instrument to plot individually
  [--target_name]        User provided name for target
  [--write_ephemeris]    File name to write ephemeris to
  [--write_plot]         File name to write plot out to
  [--silent]             Boolean to print results to screen [default: False]
  -h --help              Show this screen.
  --version              Show version.
"""

from jwst_gtvt.constants import D2R
from jwst_gtvt.display_results import display_results
from docopt import docopt
from jwst_gtvt.jwst_tvt import Ephemeris
from jwst_gtvt.plotting import plot_visibility


def main(args):
    eph = Ephemeris()
    eph.get_fixed_target_positions(args['<ra>'], args['<dec>'])

    if not args['--silent']:
        display_results(eph)

    if args['--write_ephemeris']:
        eph.write_ephemeris(eph.dataframe, args['--write_ephemeris'])
    plot_visibility(eph, args['--instrument'], name=args['--target_name'], write_plot=args['--write_plot'])



if __name__ == "__main__":
    args = docopt(usage, version='0.6.2')
    main(args)
