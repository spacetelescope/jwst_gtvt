usage = """

Main driver for moving target support. This script will display and
generate the figure for 

Usage:
  jwst_mtvt <desg> [--instrument=<inst>] [--smallbody] [--silent]

Arguments:
  <desg>    Name of moving target. 

Options:
  [--instrument]    JWST instrument to plot individually
  --smallbody       Boolean flag for [default: False]
  --silent          Boolean to print results to screen [default: False]
  -h --help         Show this screen.
  --version         Show version.
"""

from jwst_gtvt.display_results import display_results
from docopt import docopt
from jwst_gtvt.jwst_tvt import Ephemeris
from jwst_gtvt.plotting import plot_visibility


def main(args):
    eph = Ephemeris()
    eph.get_moving_target_positions(args['<desg>'], smallbody=['--smallbody'])
    if not args['--silent']:
        display_results(eph)
    plot_visibility(eph, args['--instrument'])

if __name__ == "__main__":
    args = docopt(usage, version='0.6.2')
    main(args)
